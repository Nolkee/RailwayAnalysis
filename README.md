# 川渝地区轨道交通客流数据分析展示系统

## 项目简介

本项目是一个基于C++和Qt开发的川渝地区轨道交通客流数据分析展示系统，采用面向对象的程序设计方法，实现了GUI图形界面和多种数据分析算法。

## 功能特点

### 核心功能
- **数据管理**: 支持CSV格式的站点、列车、客流数据导入和管理
- **统计分析**: 提供站点、列车、时间序列等多维度统计分析
- **数据可视化**: 支持折线图、柱状图、饼图、散点图等多种图表类型
- **时间序列预测**: 实现基于移动平均、指数平滑等算法的客流预测
- **聚类分析**: 采用K-means算法对站点、列车进行聚类分析
- **c**: 分析站点间的客流关联性，优化换乘引导策略

### 算法实现
- **时间序列预测**: 移动平均、指数平滑、Holt-Winters模型
- **聚类分析**: K-means聚类算法，支持最优K值自动选择
- **相关性分析**: 皮尔逊相关系数计算
- **模型评估**: MAE、MSE、RMSE、MAPE等评估指标

## 系统架构

### 面向对象设计
```
├── 数据层 (Data Layer)
│   ├── Station (站点类)
│   ├── Train (列车类)
│   ├── PassengerFlow (客流数据类)
│   └── DataManager (数据管理器)
├── 分析层 (Analysis Layer)
│   ├── AnalysisEngine (分析引擎)
│   ├── PredictionModel (预测模型)
│   └── ClusteringModel (聚类模型)
├── 展示层 (Presentation Layer)
│   ├── MainWindow (主窗口)
│   ├── ChartWidget (图表组件)
│   └── TableWidget (表格组件)
```

### 核心类说明

#### 数据模型类
- **Station**: 站点信息管理，包含站点ID、名称、代码等属性
- **Train**: 列车信息管理，包含列车代码、运量、利用率等属性
- **PassengerFlow**: 客流记录，包含时间、站点、客流量、收入等信息

#### 分析引擎类
- **AnalysisEngine**: 核心分析引擎，提供统计分析、相关性分析等功能
- **PredictionModel**: 预测模型，实现时间序列预测算法
- **ClusteringModel**: 聚类模型，实现K-means聚类算法

#### 界面组件类
- **MainWindow**: 主窗口，整合所有功能模块
- **ChartWidget**: 图表组件，支持多种图表类型的数据可视化
- **TableWidget**: 表格组件，提供数据表格显示和导出功能

## 技术栈

- **编程语言**: C++17
- **GUI框架**: Qt6
- **图表库**: Qt Charts
- **构建系统**: CMake
- **开发环境**: 支持Windows、Linux、macOS

## 编译和运行

### 环境要求
- Qt6.0或更高版本
- CMake 3.16或更高版本
- C++17兼容的编译器

### 编译步骤
```bash
# 创建构建目录
mkdir build
cd build

# 配置项目
cmake ..

# 编译项目
cmake --build .

# 运行程序
./RailwayAnalysis
```

### 数据文件
将以下CSV文件放置在项目根目录：
- `客运站点（站点名称、站点编号、备注）.csv`
- `列车表（列车编码、列车代码、列车运量）.csv`
- `高铁客运量（成都--重庆）（运营线路编码、列车编码、站点id、日期、到达时间、出发时间、上客量、下客量等，起点站、终点站、票价、收入等）(3).csv`

## 使用说明

### 基本操作
1. **加载数据**: 点击"加载数据"按钮或使用Ctrl+O快捷键
2. **选择分析类型**: 在控制面板选择要进行的分析类型
3. **设置参数**: 配置日期范围、预测天数、聚类数等参数
4. **执行分析**: 点击相应的分析按钮开始处理
5. **查看结果**: 在图表和表格标签页查看分析结果
6. **导出数据**: 使用导出功能保存分析结果

### 分析功能
- **站点分析**: 分析各站点的客流量、收入、高峰时段等
- **列车分析**: 分析列车的利用率、收入、运行效率等
- **时间序列分析**: 分析客流的时间分布规律
- **相关性分析**: 分析站点间的客流关联性
- **客流预测**: 基于历史数据预测未来客流
- **聚类分析**: 对站点或列车进行聚类分组

### 图表类型
- **折线图**: 适合显示时间序列数据
- **柱状图**: 适合显示分类数据对比
- **饼图**: 适合显示占比数据
- **散点图**: 适合显示相关性数据

## 算法说明

### 时间序列预测
1. **移动平均**: 使用滑动窗口计算平均值
2. **指数平滑**: 对历史数据进行加权平均
3. **Holt-Winters**: 考虑趋势和季节性的预测模型

### 聚类分析
1. **K-means算法**: 基于距离的聚类算法
2. **最优K值选择**: 使用轮廓系数自动选择最优聚类数
3. **特征提取**: 从原始数据中提取聚类特征

### 相关性分析
1. **皮尔逊相关系数**: 计算站点间的线性相关性
2. **显著性检验**: 评估相关性的统计显著性
3. **可视化展示**: 通过图表展示相关性结果

## 项目特色

### 面向对象设计
- 采用封装、继承、多态等面向对象特性
- 模块化设计，便于维护和扩展
- 清晰的类层次结构

### 数据驱动决策
- 基于真实数据的分析结果
- 支持多种评估指标
- 提供决策建议和优化策略

### 用户体验
- 直观的图形界面
- 丰富的交互功能
- 完善的数据导出功能

## 扩展功能

### 可能的改进方向
- 支持更多数据格式（Excel、JSON等）
- 增加更多机器学习算法
- 实现实时数据更新
- 添加网络功能支持
- 优化大数据处理性能

### 算法优化
- 实现更复杂的预测模型（ARIMA、LSTM等）
- 增加异常检测功能
- 支持多变量分析
- 添加深度学习支持

## 许可证

本项目采用MIT许可证，详见LICENSE文件。

## 贡献指南

欢迎提交Issue和Pull Request来改进项目。

## 联系方式

如有问题或建议，请通过以下方式联系：
- 提交GitHub Issue
- 发送邮件至项目维护者

---

**注意**: 本项目仅用于学术研究和教学目的，请确保遵守相关法律法规。 